\documentclass[14pt]{extarticle}
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage[T1]{fontenc}
\usepackage{comment}
\usepackage{etoolbox} % freaking toc
\usepackage{ifthen}
\usepackage{calc}
\usepackage{xspace}
\usepackage{xcolor}
\usepackage{float}
\usepackage{chordbox}
\usepackage{tikz}
\usepackage{xifthen}
\usepackage{pgf}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{tabularx}
\usepackage{multicol}
\usepackage{xparse} % NewDocumentCommand
\usepackage{csquotes}
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage{censor} % for █████████████
\usepackage{pifont} % for solo versestyle star
\usepackage{vcell} % for mysong


%\usepackage{cochineal} % crimson font fork
\usepackage{fontspec} % for eczar
%\setmainfont{Eczar-Medium.otf}[BoldFont=Eczar-Bold.otf]
\usepackage{addfont}            % for segment font
\addfont{OT1}{d7seg}{\dviiseg}
\addfont{OT1}{deseg}{\deseg}
\usepackage{yfonts}    % baroque font (\initfamily)
\input Zallman.fd
\renewcommand*\initfamily{\usefont{U}{Zallman}{xl}{n}}
%\setmainfont{QTOKCorral-Ext}






%%% Style %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newboolean{showchords}
\newboolean{showoptionalchords}
\newboolean{iscompact}

\setboolean{showchords}{true}
\setboolean{showoptionalchords}{false}
\setboolean{iscompact}{false}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifthenelse{\boolean{iscompact}}{
    \newcommand{\leftpadding}{1.25cm}
    \renewcommand{\baselinestretch}{1.15} 
    \usepackage[paper=a5paper, nohead, bottom=1cm, top=0.5cm, left=0cm, right=0.5cm, footskip=0.5cm]{geometry}
  }{
    \newcommand{\leftpadding}{1cm}
    \renewcommand{\baselinestretch}{1.25} 
    \usepackage[paper=a5paper, nohead, bottom=1.25cm, top=1cm, left=0cm, right=0.75cm, footskip=0.5cm]{geometry}
  }

\newcommand{\setgeometry}{
  \ifthenelse{\boolean{iscompact}}{
    \renewcommand{\leftpadding}{0.75cm}
    \renewcommand{\baselinestretch}{1.15} 
    \newgeometry{paper=a5paper, nohead, bottom=1cm, top=0.5cm, left=0cm, right=0.5cm, footskip=0.5cm}
               }{
    \renewcommand{\leftpadding}{1.25cm}
    \renewcommand{\baselinestretch}{1.15} 
    \newgeometry{paper=a5paper, nohead, bottom=1.25cm, top=1cm, left=0cm, right=0.75cm, footskip=0.5cm}
               }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{imakeidx}
\usepackage{hyperref}
%\usepackage[default,regular,bold]{sourceserifpro}
\usepackage[t,lf]{spectral}
%\usepackage{fontspec}
%\setmainfont{QTHeidelbergType}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\input{covers.tex}

%\makeindex

\usepackage{leadsheets} % the following lines fix problems with newer latex
\setleadsheets{align-chords={l}}
\definesongtitletemplate{empty}{} 
\setleadsheets{disable-measuring = true}
\ExplSyntaxOn
    \UseName{prop_new:c}{l__leadsheets_songs_height_prop}
\ExplSyntaxOff
\definesongtitletemplate{empty}{
  % an “empty” template: do nothing for title
}

\title{Střediskový zpěvník}
\author{José Smutný}
\date{November 2025}

\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[R]{\thepage}
\setlength{\parindent}{0cm}

\newcommand{\importsong}[1]{\input{songs/#1}}

\input{utilities.tex}
\input{chords.tex}
\input{rhythm.tex}
\input{covers.tex}

\input{toc.tex}

\begin{document}

\newversetype{refren}
\newversetype{deco}
\setleadsheets{
  title-template = empty,
  after-title = \vspace{0pt},
  before-song = \vspace{0pt},
  refren/numbered=false,
  refren/name=R,
  refren/after-label=.,
  refren/label-format=\bfseries,
  deco/numbered=false,
  deco/name= \ding{107},
  deco/after-label=,
  deco/label-format=,  % TODO: shouldn't be too visually bold
  solo/numbered=false,
  solo/name=,
  solo/after-label=,
  verse/numbered=true,
%  smash-chords = true
}
\setchords{
  format = \bfseries,
  input-notation = {german},
  output-notation = {german}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Uncomment for song book %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\frontcover

\subsectiontoc

\setboolean{showchords}{true}
\setboolean{showoptionalchords}{false}
\setboolean{iscompact}{false}
\setgeometry

\importsong{saro.tex}
\importsong{andel.tex}
\importsong{divoci-kone.tex}
\importsong{dokud-se-zpiva.tex}
\importsong{hrobar.tex}
\importsong{lilie.tex}
\importsong{batalion.tex}
\importsong{1982.tex}
\importsong{povidej.tex}
\importsong{vcelin.tex}
\importsong{jeste-jedno-kafe.tex}
\importsong{pocity.tex}
\importsong{proklinam.tex}
\importsong{malovani.tex}
\importsong{pazitka.tex}
\importsong{valka-ruzi.tex}
\importsong{mezi-horami.tex}
\importsong{kozel.tex}
\importsong{po-schodoch.tex}
\importsong{hercegovina.tex}
\importsong{peterburg.tex}
\importsong{variace-na-renesancni-tema.tex}
\importsong{rana-v-trave.tex}
\importsong{kutil.tex}
\importsong{dum-u-vychazejiciho-slunce.tex}
\importsong{knockin-on-heaven-s-door.tex}
\importsong{na-kolena.tex}
\importsong{zuzana.tex}
\importsong{ho-ho-watanay.tex}
\importsong{medvedi-nevedi.tex}
\importsong{blaznova-ukolebavka.tex}
\importsong{1-signalni.tex}
\importsong{velrybarska-vyprava.tex}
\importsong{love-story.tex}
\importsong{montgomery.tex}
\importsong{rosa-na-kolejich.tex}
\importsong{hejkal.tex}
\importsong{amazonka.tex}
\importsong{lokomotiva.tex}
\importsong{hvezdar.tex}
\importsong{eldorado.tex}
\importsong{dej-mi-vic-sve-lasky.tex}
\importsong{jozin-z-bazin.tex}
\importsong{tri-krize.tex}
\importsong{jacek.tex}
\importsong{traktor.tex}
\importsong{vodacka-holka.tex}
\importsong{slavici-z-madridu-rossignol-anglais.tex}
\importsong{kdyz-me-brali-za-vojaka.tex}
\importsong{tesinska.tex}
\importsong{znamka-punku.tex}
\importsong{vlastovky.tex}
\importsong{poveste-ho-vejs.tex}
\importsong{zejtra-mam.tex}
\importsong{hlupaku-najdu-te.tex}
\importsong{lou-z-lille.tex}
\importsong{lovci-lebek.tex}
\importsong{valecna.tex}
\importsong{severni-vitr.tex}
\importsong{morituri-te-salutant.tex}
\importsong{promeny.tex}
\importsong{let-it-be.tex}
\importsong{vitr-to-vi-blowin-in-the-wind.tex}
\importsong{na-sirem-mori.tex}
\importsong{podvod.tex}
\importsong{indiani-ve-meste.tex}
\importsong{zkouska-dospelosti.tex}
\importsong{racci.tex}
\importsong{styskani.tex}
\importsong{mam-jizvu-na-rtu.tex}
\importsong{rekni-kde-ty-kytky-jsou.tex}
\importsong{hudsonske-sify.tex}
\importsong{ruze-z-texasu.tex}
\importsong{jdem-zpatky-do-lesu.tex}
\importsong{uz-to-nenapravim.tex}
\importsong{darmodej.tex}
\importsong{kometa.tex}
\importsong{blativa-cesta.tex}
\importsong{lilie-skautska.tex}
\importsong{omnia-vincit-amor.tex}
\importsong{lasko.tex}
\importsong{bedna-od-whisky.tex}
\importsong{jdou-po-mne-jdou.tex}
\importsong{o-malem-rytiri.tex}
\importsong{cernej-pasazer.tex}
\importsong{zatimco-se-koupes.tex}
\importsong{vitr.tex}
\importsong{zitra-rano-v-pet.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%X
%\pagebreak
%
%\setboolean{showchords}{true}
%\setboolean{showoptionalchords}{false}
%\setboolean{iscompact}{false}
%\setgeometry
%\importsong{preview.tex}
%
%\setboolean{showchords}{true}
%\setboolean{showoptionalchords}{true}
%\setboolean{iscompact}{true}
%\setgeometry
%\importsong{preview.tex}
%
%
%\setboolean{showchords}{false}
%\setboolean{showoptionalchords}{false}
%\setboolean{iscompact}{false}
%\setgeometry
%\importsong{preview.tex}

%\subsectiontoc
\end{document}

