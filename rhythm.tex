
\NewDocumentCommand{\noarrow}{}{\hphantom{$\uparrow$}~}

\NewDocumentCommand{\up}{}{$\uparrow$~}
\NewDocumentCommand{\down}{}{$\downarrow$~}

\NewDocumentCommand{\rhythm}{omm}{#2$/$#3\IfNoValueTF{#1}{}{:~\parserhythm{#1}}}

\NewDocumentCommand{\createrhythm}{m m m m}{%
   \expandafter\NewDocumentCommand\csname #4\endcsname%
   {s}%
   {\IfBooleanTF{##1}{\rhythm{#1}{#2}}{\rhythm[#3]{#1}{#2}}}}

\NewDocumentCommand{\parserhythm}{m}{%
  \setsepchar{ }%
  \readlist\rawitems{#1}%
  \foreachitem\beat\in\rawitems{\IfStrEq{\beat}{u}{\noarrow\up}{%
    \IfStrEq{\beat}{d}{\down\noarrow}{%
      \IfStrEq{\beat}{V}{\down\up}{%
        \IfStrEq{\beat}{x}{\noarrow\noarrow}{}}}}}}


\createrhythm{1}{1}{d}      {oneone}  
\createrhythm{1}{1}{u}      {oneonestar}  
\createrhythm{1}{1}{V}      {oneonefull}  
\createrhythm{2}{4}{d V}    {twofour}  
\createrhythm{3}{4}{d V V}  {threefour}
\createrhythm{3}{4}{d u V}  {threefourstar}
\createrhythm{4}{4}{d V u V}{fourfour}
\createrhythm{4}{4}{d x d V}{fourfourskip}
\createrhythm{4}{4}{d d d V}{fourfourend}
\createrhythm{4}{4}{d d d V}{fourfourstar}

\createrhythm{6}{8}{d V V d d d} {sixeight}

\createrhythm{8}{8}{d V V d d d d x}{eighteightvcelin}
\createrhythm{8}{8}{d d d d d d d V}{eighteightlast}
\createrhythm{8}{8}{d V u u u d d V}{eighteightzkouska}

\NewDocumentCommand{\fourfourstarstar}{}{4$/$4:~\down\noarrow\noarrow\noarrow\down\noarrow\down\up}
\newcommand{\fourfourstarstarstar}{4$/$4:~\down\noarrow\down\up\down\noarrow\down\noarrow}

\NewDocumentCommand{\eighteightpocity}{}{8$/$8:~\down\noarrow\noarrow\noarrow\down\noarrow\down\up ~(zmÄ›na akordu) ~\down\up\down\noarrow\down\noarrow\down\up }

\NewDocumentCommand{\eighteight}{}{\down\noarrow\down\up\down\up\down\noarrow\down\noarrow\down\noarrow\down\noarrow\down\noarrow}
\NewDocumentCommand{\eighteightend}{}{8$/$8:~\down\noarrow\down\noarrow\down\noarrow\down\noarrow\down\noarrow\down\up\noarrow\up\down\up}
\NewDocumentCommand{\eighteightslow}{}{8$/$8:~\down\noarrow\noarrow\noarrow\down\noarrow\noarrow\noarrow\down\noarrow\down\up\noarrow\up\down\up}

\NewDocumentCommand{\eighteightstar}{}{8$/$8:~\down\noarrow\down\up\down\up\down\noarrow\down\up\down\up\down\up\down\up}
\NewDocumentCommand{\eighteightstarstar}{}{8$/$8:~\down\noarrow\down\up\down\up\down\noarrow\noarrow\up\noarrow\up\down\noarrow\down\up}
\NewDocumentCommand{\eighteightstarstarstar}{}{8$/$8:~\down\noarrow\down\up\down\up\down\noarrow\down\noarrow\down\noarrow\down\noarrow\down\up}

\NewDocumentCommand{\eighteightsignalni}{}{8$/$8:~\down\noarrow\noarrow\up\down\noarrow\down\up\down\up\down\noarrow\down\noarrow\down\up}

\NewDocumentCommand{\eighteightskipbeat}{}{8$/$8:~\down\noarrow\noarrow\noarrow\down\noarrow\down\up\noarrow\up\down\up\down\up\down\up}

\newcommand{\fourfourstraight}{4$/$4:~\down\noarrow\down\noarrow\down\noarrow\down\noarrow}

\newcommand{\fourfourplucked}{4$/$4:~5 (123) 4 (123)}
\newcommand{\twofourplucked}{2$/$4:~5 (123)}
