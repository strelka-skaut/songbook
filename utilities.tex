
\newcommand{\mysong}[3]{
    \subsection{#1\index{#1}}
    \vspace{-0.33em}
    \hspace{\leftpadding}\small #2 %\hyperref[content]{#2}
    \vspace{0.5em}
    \normalsize
}

\newcommand{\enablechords}{\setleadsheets{print-chords=true}}
\newcommand{\disablechords}{\setleadsheets{print-chords=false}}


\NewDocumentCommand{\enforcechords}{m}{\ifthenelse{#1}{\enablechords}{\disablechords}}

\NewDocumentCommand{\mchord}{sm}{%
    \enforcechords{\boolean{showchords}}\IfBooleanTF{#1}{\chord*{#2}}{\chord{#2}}}

\NewDocumentCommand{\ochord}{sm}{%
    \enforcechords{\boolean{showchords} \AND \boolean{showoptionalchords}}\IfBooleanTF{#1}{\chord*{#2}}{\chord{#2}}}


\NewDocumentCommand{\hchord}{sm}{%
  \disablechords\IfBooleanTF{#1}{\chord*{#2}}{\chord{#2}}}


\NewDocumentCommand{\inlinechord}{m}{%
    \enablechords\writechord{#1}
}

\newcommand{\chordbreak}{\ifthenelse{\boolean{iscompact}}{}{\ifthenelse{\boolean{showchords}}{\pagebreak}{}}}

\newcommand{\compactbreak}{\ifthenelse{\boolean{iscompact}}{\pagebreak}{}}

\newcommand{\nochordbreak}{\ifthenelse{\boolean{showchords}}{}{\pagebreak}}

\RenewDocumentCommand{\capo}{m}{%
  \ifthenelse{\boolean{showchords}}{\hspace{\leftpadding}\textit{Capo #1}}{}}

\NewDocumentCommand{\goto}{m}{%
  $\rightarrow$~~#1}


\NewDocumentCommand{\instruction}{m}{%
  ~~\textit{(#1)}}

\NewDocumentEnvironment{optional}{m +b}{%
  \ifthenelse{\boolean{showchords}}{\begin{#1}#2\end{#1}}{}}{}

\NewDocumentCommand{\solospace}{}{~~~}
